pipeline {
    agent any
    stages {
        stage('any pull request') {
            steps {
                // Echo the values of variables
                echo "Params: ${params}"
                echo "Current Status: ${params.current_status}"
                echo "Merged: ${params.merged}"
                echo "Branch: ${params.branch}"
            }
        }
        stage('only accepted merges') {
            when {
                expression { return params.current_status == "closed" && params.merged == true && params.branch == "main" }
            }
            steps {
                echo "This is a merge"
                // Echo the values of variables
                echo "Current Status: ${params.current_status}"
                echo "Merged: ${params.merged}"
                echo "Branch: ${params.branch}"
            }
        }
    }
}
